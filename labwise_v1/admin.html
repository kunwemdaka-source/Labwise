<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labwise - Admin Dashboard</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        :root {
            --primary-purple: #6B46C1;
            --secondary-purple: #A78BFA;
            --text-dark: #1F2937;
            --text-light: #6B7280;
        }
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
        }
        
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }
        
        .animate-in {
            opacity: 1;
            transform: translateY(0);
        }
        
        .form-input:focus {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(107, 70, 193, 0.1);
        }
        
        .sidebar {
            background: linear-gradient(180deg, var(--primary-purple), #553C9A);
        }
    </style>
</head>
<body class="bg-gray-50">
    
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="text-2xl font-bold gradient-text">Labwise</div>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="index.html" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Home</a>
                        <a href="about.html" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">About</a>
                        <a href="news.html" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">News</a>
                        <a href="contact.html" class="text-gray-700 hover:text-purple-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Contact</a>
                    </div>
                </div>
                
                <!-- Admin Actions -->
                <div class="flex items-center space-x-4">
                    <button onclick="logout()" class="bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <div class="pt-16 min-h-screen">
        <div class="flex">
            <!-- Sidebar -->
            <div class="sidebar w-64 min-h-screen text-white p-6">
                <h2 class="text-xl font-bold mb-6">Admin Dashboard</h2>
                <nav class="space-y-2">
                    <a href="#" onclick="showSection('dashboard')" class="block py-2 px-3 rounded-lg bg-white bg-opacity-20 hover:bg-opacity-30 transition-colors">
                        üìä Dashboard
                    </a>
                    <a href="#" onclick="showSection('posts')" class="block py-2 px-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
                        üìù Manage Posts
                    </a>
                    <a href="#" onclick="showSection('add-post')" class="block py-2 px-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
                        ‚ûï Add New Post
                    </a>
                    <a href="#" onclick="showSection('settings')" class="block py-2 px-3 rounded-lg hover:bg-white hover:bg-opacity-20 transition-colors">
                        ‚öôÔ∏è Settings
                    </a>
                </nav>
            </div>
            
            <!-- Main Content Area -->
            <div class="flex-1 p-8">
                <!-- Dashboard Section -->
                <div id="dashboard" class="section">
                    <h1 class="text-3xl font-bold mb-6">Welcome to Labwise Admin Dashboard</h1>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-600 text-sm">Total Posts</p>
                                    <p class="text-2xl font-bold text-purple-600" id="total-posts">0</p>
                                </div>
                                <div class="text-4xl">üìù</div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-600 text-sm">Published</p>
                                    <p class="text-2xl font-bold text-purple-600" id="published-posts">0</p>
                                </div>
                                <div class="text-4xl">‚úÖ</div>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl shadow-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-gray-600 text-sm">Views</p>
                                    <p class="text-2xl font-bold text-purple-600">1,234</p>
                                </div>
                                <div class="text-4xl">üëÅÔ∏è</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h2 class="text-xl font-bold mb-4">Recent Activity</h2>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                <span class="text-green-500 mr-3">‚úÖ</span>
                                <span class="text-sm">New post published: "Advanced Genetic Testing Now Available"</span>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                <span class="text-blue-500 mr-3">üîÑ</span>
                                <span class="text-sm">Updated COVID-19 testing protocols</span>
                            </div>
                            <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                <span class="text-purple-500 mr-3">üìä</span>
                                <span class="text-sm">Monthly analytics report generated</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Manage Posts Section -->
                <div id="posts" class="section hidden">
                    <div class="flex justify-between items-center mb-6">
                        <h1 class="text-3xl font-bold">Manage Posts</h1>
                        <button onclick="showSection('add-post')" class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors">
                            Add New Post
                        </button>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Title</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="posts-table-body" class="bg-white divide-y divide-gray-200">
                                <!-- Posts will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Add New Post Section -->
                <div id="add-post" class="section hidden">
                    <h1 class="text-3xl font-bold mb-6">Add New Post</h1>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <form id="add-post-form" class="space-y-6">
                            <div>
                                <label for="post-title" class="block text-sm font-medium text-gray-700 mb-2">Title</label>
                                <input type="text" id="post-title" class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none transition-colors" placeholder="Enter post title" required>
                            </div>
                            
                            <div>
                                <label for="post-content" class="block text-sm font-medium text-gray-700 mb-2">Content</label>
                                <textarea id="post-content" rows="6" class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none transition-colors resize-none" placeholder="Enter post content" required></textarea>
                            </div>
                            
                            <div>
                                <label for="post-image" class="block text-sm font-medium text-gray-700 mb-2">Image URL</label>
                                <input type="url" id="post-image" class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none transition-colors" placeholder="https://example.com/image.jpg" required>
                            </div>
                            
                            <div class="flex space-x-4">
                                <button type="submit" class="bg-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors">
                                    Publish Post
                                </button>
                                <button type="button" onclick="showSection('posts')" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-400 transition-colors">
                                    Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Settings Section -->
                <div id="settings" class="section hidden">
                    <h1 class="text-3xl font-bold mb-6">Settings</h1>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h2 class="text-xl font-bold mb-4">Website Settings</h2>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <span>Maintenance Mode</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                </label>
                            </div>
                            <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                                <span>Analytics Tracking</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" checked class="sr-only peer">
                                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"></div>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script src="main.js"></script>
    <script>
        // Check if user is logged in
        if (!localStorage.getItem('isLoggedIn')) {
            window.location.href = 'login.html';
        }
        
        let blogPosts = JSON.parse(localStorage.getItem('blogPosts')) || [];
        
        // Initialize dashboard
        function initDashboard() {
            updateStats();
            loadPostsTable();
        }
        
        // Update statistics
        function updateStats() {
            document.getElementById('total-posts').textContent = blogPosts.length;
            document.getElementById('published-posts').textContent = blogPosts.length;
        }
        
        // Load posts table
        function loadPostsTable() {
            const tbody = document.getElementById('posts-table-body');
            tbody.innerHTML = '';
            
            blogPosts.forEach((post, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${post.title}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${formatDate(post.date)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editPost(${index})" class="text-purple-600 hover:text-purple-900 mr-3">Edit</button>
                        <button onclick="deletePost(${index})" class="text-red-600 hover:text-red-900">Delete</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }
        
        // Show different sections
        function showSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.remove('hidden');
            
            // Update sidebar active state
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('bg-white', 'bg-opacity-20');
            });
            event.target.classList.add('bg-white', 'bg-opacity-20');
        }
        
        // Add new post
        document.getElementById('add-post-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newPost = {
                id: Date.now(),
                title: document.getElementById('post-title').value,
                content: document.getElementById('post-content').value,
                date: new Date().toISOString().split('T')[0],
                image: document.getElementById('post-image').value,
                caption: "Admin uploaded image"
            };
            
            blogPosts.unshift(newPost);
            localStorage.setItem('blogPosts', JSON.stringify(blogPosts));
            
            // Reset form
            this.reset();
            
            // Show success message and redirect to posts
            alert('Post published successfully!');
            showSection('posts');
            loadPostsTable();
            updateStats();
        });
        
        // Delete post
        function deletePost(index) {
            if (confirm('Are you sure you want to delete this post?')) {
                blogPosts.splice(index, 1);
                localStorage.setItem('blogPosts', JSON.stringify(blogPosts));
                loadPostsTable();
                updateStats();
            }
        }
        
        // Edit post (simplified version)
        function editPost(index) {
            const post = blogPosts[index];
            document.getElementById('post-title').value = post.title;
            document.getElementById('post-content').value = post.content;
            document.getElementById('post-image').value = post.image;
            
            // Remove the post temporarily for editing
            blogPosts.splice(index, 1);
            showSection('add-post');
        }
        
        // Format date
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }
        
        // Logout
        function logout() {
            localStorage.removeItem('isLoggedIn');
            window.location.href = 'login.html';
        }
        
        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>